@using DQQ.Web.Pages.DQQs.Items
@using DQQ.Web.Pages.DQQs.Items.Components
@inherits ItemDetailPagePage

<Card >
<HeaderTemplate>
详情
</HeaderTemplate>
<BodyTemplate>
		<div class="row g-3">
			@if (SelectedItem != null)
			{
				<div class="col-md-12">
					<Button IsBlock="true" IsAsync="true" Color="Color.Danger" OnClick="UnEquip">卸下装备</Button>
				</div>
				<div class="col-md-12">
					<ItemComponent Item="SelectedItem" />
				</div>
				

			}
			@if (ItemSelected != null)
			{
				if (SelectedSlot != null && ItemSelected.IsTempItem != true && ItemSelected?.Id != SelectedItem?.Id)
				{
					<Button IsBlock="true" IsAsync="true" Color="Color.Success" OnClick="Equip">装备</Button>
				}
				if (ItemSelected?.Id != SelectedItem?.Id)
				{
					<div class="col-md-12">
						<ItemComponent Item="ItemSelected" />
					</div>
				}

				if (IsMultiSelect && PickupSource?.Any() == true)
				{
					@if (InventoryType == EnumInventotyType.Pickup)
					{
						<Button IsBlock="true" IsAsync="true" Color="Color.Success" OnClick="PickAll">全部拾取</Button>
					}
					@if (InventoryType == EnumInventotyType.Backpack)
					{
						<Button IsBlock="true" IsAsync="true" Color="Color.Warning" OnClick="SellAll">全部变卖</Button>
					}
					<Button IsBlock="true" IsAsync="true" Color="Color.Danger" OnClick="DropAll">全部丢弃</Button>
				}
				else
				{
					if (ItemSelected != null && InventoryType == EnumInventotyType.Pickup)
					{
						<Button IsBlock="true" IsAsync="true" Color="Color.Success" OnClick="Pick">拾取</Button>
						
					}
					if (ItemSelected != null && InventoryType == EnumInventotyType.Backpack)
					{
						<Button IsBlock="true" IsAsync="true" Color="Color.Warning" OnClick="Sell">变卖</Button>
					}
					<Button IsBlock="true" IsAsync="true" Color="Color.Danger" OnClick="Drop">丢弃</Button>
				}

				
				
			}
		</div>
</BodyTemplate>
</Card>